<!-- Setup things -->
{% load static %}{% get_static_prefix as STATIC_PREFIX %}<!DOCTYPE HTML>
<head>
	<script src='{{ STATIC_PREFIX }}resources/js/jquery.min.js' type='text/javascript'></script>
	<script src='{{ STATIC_PREFIX }}resources/js/jquery-ui.min.js' type='text/javascript'></script>
</head>

<body>
	<input type="button" onclick="$.post('/setup/run_upkeep')" value="Run upkeep tasks"><br>
	<h1>Setup/configure</h1>
	<h2>Subjects</h2>
	<table>
		{% for subject in subjects %}
		<tr><td>{{subject.id}}</td><td>{{subject.name}}</td></tr>
		{% endfor %}
	</table>

	Add new<br>
	<form action="/setup/add/new_subject" method="POST">
		Subject name <input type="text" name="subject_name"><br>
		<input type="submit">
	</form>

	<h2>Tasks</h2>
	<table>
		{% for task in tasks %}
		<tr><td>{{task.id}}</td><td>{{task.name}}</td></tr>
		{% endfor %}
	</table>

	Add new<br>
	<form action="/setup/add/new_task" method="POST">
		Task name <input type="text" name="name"><br>
		Task class path (must be importable) <input type="text" name="import_path"><br>
		<input type="submit">
	</form>

	<h2>Features</h2>
	Currently installed features:<br>
	--
	<br><br>
	<table>
		{% for feature in features %}
		<tr><td>{{feature.id}}</td><td>{{feature.name}}</td></tr>
		{% endfor %}
	</table>

	Enable built-in feature<br><br>
	<form action="/setup/add/enable_features" method="POST">
		{% for feature in built_in_feature_names %}
			<input type="checkbox" name="{{feature}}" value="{{feature}}">{{feature}}<br>
		{% endfor %}
		<input type="submit">
	</form>

	Add new custom feature<br>
	<form action="/setup/add/new_feature" method="POST">
		Feature name <input type="text" name="name"><br>
		Feature class path (must be importable) <input type="text" name="import_path"><br>
		<input type="submit">
	</form>

</body>